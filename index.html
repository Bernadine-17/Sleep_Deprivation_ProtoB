<!DOCTYPE html> 
<html> 
<!-- The following code has been developed by students and/or researchers of the Freshman Research Initiative DIY Diagnostics Stream at The University of Texas at Austin.  This code is shared for demonstration purposes and should not be considered a product -- it is for entertainment purposes only.  Any user of this code does so at their own risk. Members of the DIY Stream, FRI, and The University of Texas system are not liable for anything related to this code.
  
 
Authors in chronological order of contribution:
Alijah James
Emma Aldred
Tim Riedel
 
Further Information:
http://cns.utexas.edu/fri
 
Research Educator:
Timothy Riedel
triedel@utexas.edu
 
Brief Description of Goal of Code:
The goal is to create a web-based app that helps users who are likely to be college students determine if they are sleep deprived.
 
Known Issues:
LOTS RIGHT NOW
https://www.w3schools.com/w3css/default.asp
https://stackoverflow.com/questions/8211128/multiple-distinct-pages-in-one-html-file
-->
	<head> 
		<title>Sleep Deprivation</title>
		<meta charset = "UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<link rel="stylesheet" href="w3.css">
		<link rel="stylesheet" href="w3-colors-flat.css">
		<!--<script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
		<script src="https://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>-->
	</head>
		
	<script>
		var docMod = document.lastModified; // loads last modified time stamp into docMod variable
			alert("This file last modified " + docMod); // generates alert box with time stamp. If annoying, comment out this entire line.
			console.log("This file last modified " + docMod); // generates message in javaScript console (found in developers tools) with time stamp.
		
		function draw(){
			var mycanvas = document.getElementById("canvas"); //finds the canvas with the Id 'a'
			var mycontext = mycanvas.getContext("2d"); //sets up the context of the function with 2d
			mycontext.beginPath();
			mycontext.arc(325, 175, 10, 0, 2 * Math.PI);
			mycontext.stroke();
			mycontext.fillStyle = "red";
			mycontext.fill();
		}
		
		function letter(){
			var i = 0;
			var width = 0;
			
			while (i<20){
				var time = setInterval(myTimer,1000);//creates timer (calls function, time-interval between each execution)
				function myTimer(){ //starts function
					var d = new Date(); //date variable storing milliseconds
					document.getElementById("Tsave").innerHTML = d.toLocaleTimeString();//defines data as local time
				}
				var randomletter = Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0,1).split('').map(c => Math.random() < 0.5 ? c.toUpperCase() : c).join('');
				var mycanvas = document.getElementById("canvas"); //finds the canvas with the Id 'a'
				var mycontext = mycanvas.getContext("2d"); //sets up the context of the function with 2dv
				if (i % 2 == 0){
					width = 1;
				}
				else{
					width = 628;
				}
				i++
				
				mycontext.font = "bold 24px sans-serif"; //determines the font of the text
				mycontext.fillStyle = "black";
				mycontext.fillText(randomletter,width,175); //declares and prints the text and gives placement
				
				/*function reset(){
					alert("reset function is being called");
					var mycanvas = document.getElementById("a");//finds the canvas with the Id 'a'
					var mycontext = a_canvas.getContext("2d");//sets up the context of the function with 2
					mycanvas.width = "650";//re-states canvas width
					mycanvas.height = "350";//re-states canvas height
				}
				*/
			}
			
		}
		/*$(document).ready(function(){
  			$("#show").click(function(){
     			$("#ans").show();
     			$("#userdate")[0].value = new Date()
   			});
		});
		*/
	</script>
	
	<style>
		.body {
			margin: 0em;
		}
		.page {
			width: 100vw;
			height: 100vh;
			position: fixed;
			top: 0;
			left: -100vw;
			overflow-y: auto;
			z-index: 0;
			background-color: hsl(0,0%,100%);
		}
		.page:target {
			left: 0vw;
			z-index: 1;
		}
	</style>
	<!-- above sets the web-page's dimensions and look-->	
	
	<body>
		<div id="header" class="w3-container w3-light-blue">
				<h1>Sleep Deprivation Diagnostic</h1><!-- /header -->
		</div> <!-- /content -->
			
		<div id="content" class= "w3-container"> <!--first page of app-->
			<h2>Instructions: </h2>
			<p>Hold your phone sideways and stare at the red dot. A black square will flash on either side of the dot. 
				When you see this sqaure, tap it. In between star flashes, stare at the red dot.</p>
			<p>Press this button to start</p>
			<a href="#one" class="w3-btn w3-light-blue w3-round"> Get Started </a>
			
		<div class = "page" id= "one">
			<div id="header" class="w3-container w3-light-blue">
				<h1>Sleep Deprivation Diagnostic</h1>
			</div>
			<div id="content" class="w3-container">
				<a href="#one" onclick= "draw();letter();" class="w3-btn w3-grey w3-round"> Start
				</a>
				<canvas id= "canvas" width="650" height="350" style= "border:1px solid #000000;"></canvas>
			
				<button onclick="clearInterval(time)">Stop time</button>
				<canvas id="Tsave"></p>
			</div>
		
			<!--<div>
				<p>Click the button once you see the target </p>
				<a href = "#one" id = "show"; class="w3-btn w3-grey w3-round"> 
					First Target </a>
			</div>
			
			<div id="ans" style="display:none">
				<input id="userdate" name="timestamp" value="dateOfUser">
			</div>  
			
			</div>
				<a href = "#one" id = "show"; class="w3-btn w3-grey w3-round"> 
					Second Target </a>
			<div id="ans" style="display:none">
				<input id="userdate" name="timestamp" value="dateOfUser">
			</div>
			-->
		</div>
		
		<div id = "footer" class="w3-bottom w3-panel w3-flat-alizarin" data-position= "fixed">
			<h5>Emma14 DIY Diagnostics</h5>
		</div>
		<!--footer not displaying in the right spot-->
   </body>
</html>
