
	<style>	
body {
     background-color: rgb(99, 153, 225);
	color : white;
     margin: 0em;
}

.page {
    width: 100vw;
    height: 100vh;
    position: fixed;
    top: 0;
    left: -100vw;
    overflow-y: auto;
    z-index: 0;
    background-color: hsl(0,0%,100%);
}
    

  .page:target {
    left: 0vw;
    z-index: 1;
}
#box {
				height: 75px;
  width: 75px;
  background-color: #FFA500;
  border-radius: 50%;
  display: inline-block;blue;
				display: none;
				position: relative; 
		}
</style>

<body>
  

	 
 
	This app was produced by the Fatigue Team in the DIY Diagnostics Lab at UT Austin.</br>
	When you press begin test, an orange circle will appear randomly on the screen at random times.</br>
	Click on the circle to record your reaction time. </br>
	At the end, your average time will be reported and you will be asked to fill out the Chalder Fatigue Survey</br>
<button type = "button" id = "beginTest" onclick= "myFunction()">Begin Test</button>
 



<div class="page" id="two">
	<div id = "box"> </div>
</div>
<div class="page" id="three">
	<form name="chalder">
  <input name="name" type="text" placeholder="Full Name Here"><br>
  <label for="test">Your average time in seconds</label>
  <input type = "text" id="test" name="test" readonly><br>
  <label for="sleep">How many hours of sleep have you gotten in the past 24 hours?</label><br>
  <input type="text" id="sleep" name="sleep"><br>
  <label for="sleep2">On average, how many hours of sleep do you get every night?</label><br>
  <input type = "text" id = "sleep2" name = "avgSleep"><br>
  <label for = "refreshed">Do you currently feel refreshed and awake?</label><br>
  <input type = "radio" id = "refreshed" name = "feeling" value = "Yes">
  <label for = "refreshed">Yes</label>
  <input type = "radio" id = "refreshed" name = "feeling" value = "No">
  <label for = "refreshed">No</label><br>
  <label for="caff">How much caffeine(mg) have you had in the past 8 hours? A regular cup of coffee has about 95 mg.</label><br>
  <input type="text" id="caff" name="caff"><br>
  <label for="medication">Are you currently taking any medications or drugs which could impact the results of this sleep survey? </label><br>
  <select id="medication" name="med">
    <option value="Yes, improve">yes, it could improve results</option>
    <option value="Yes, worsen">yes, it could worsen results</option>
    <option value="N/A, or won't impact results">N/A or it will not impact results</option>
  </select><br> 
 <label for="tiredLevel">Please rank your current feelings of tiredness and fatigue
from 1-5, where 5 is extremely fatigued and 1 is wide
awake. </label><br>
 <input type = "radio" id = "tiredLevel" name = "tiredLevel" value = "1">
  <label for = "tiredLevel">1-Wide Awake</label>
  <input type = "radio" id = "tiredLevel" name = "tiredLevel" value = "2">
  <label for = "tiredLevel">2</label>
  <input type = "radio" id = "tiredLevel" name = "tiredLevel" value = "3">
  <label for = "tiredLevel">3-Neutral</label>
  <input type = "radio" id = "tiredLevel" name = "tiredLevel" value = "4">
  <label for = "tiredLevel">4</label>
  <input type = "radio" id = "tiredLevel" name = "tiredLevel" value = "5">
  <label for = "tiredLevel">5-Extremely Fatigued</label><br>
	
<p id = "part1"> Answer the following on a scale of 0 - 3, with 0 being less than usual and 3 being much worse than usual		
<br> <label for="tiredProb">Do you have problems with tiredness? </label><br>
   <input type = "radio" id = "tiredProb" name = "tiredProb" value = "0">
  <label for = "tiredProb">0-Never</label>
  <input type = "radio" id = "tiredProb" name = "tiredProb" value = "1">
  <label for = "tiredProb">1-Sometimes</label>
  <input type = "radio" id = "tiredProb" name = "tiredProb" value = "2">
  <label for = "tiredProb">2</label>
  <input type = "radio" id = "tiredProb" name = "tiredProb" value = "3">
  <label for = "tiredProb">3-All the time</label><br>
<label for="restMore">Do you feel you are needing to rest more? </label><br>
  <input type = "radio" id = "restMore" name = "restMore" value = "0">
  <label for = "restMore">0-Less Than Usual </label>
  <input type = "radio" id = "restMore" name = "restMore" value = "1">
  <label for = "restMore">1-Same as Usual</label>
  <input type = "radio" id = "restMore" name = "restMore" value = "2">
  <label for = "restMore">2</label>
  <input type = "radio" id = "restMore" name = "restMore" value = "3">
  <label for = "restMore">3-Much more than usual</label><br>
		<label for="sleepyDrowsy">Do you feel sleepy or drowsy?</label><br>
  <input type = "radio" id = "sleepyDrowsy" name = "sleepyDrowsy" value = "0">
  <label for = "sleepyDrowsy">0-Less Than Usual </label>
  <input type = "radio" id = "sleepyDrowsy" name = "sleepyDrowsy" value = "1">
  <label for = "sleepyDrowsy">1-Same as Usual</label>
  <input type = "radio" id = "sleepyDrowsy" name = "sleepyDrowsy" value = "2">
  <label for = "sleepyDrowsy">2</label>
  <input type = "radio" id = "sleepyDrowsy" name = "sleepyDrowsy" value = "3">
  <label for = "sleepyDrowsy">3-Much more than usual</label><br>
		<label for="startThings">Do you have problems starting things?</label><br>
  <input type = "radio" id = "startThings" name = "startThings" value = "0">
  <label for = "startThings">0-Less Than Usual </label>
  <input type = "radio" id = "startThings" name = "startThings" value = "1">
  <label for = "startThings">1-Same as Usual</label>
  <input type = "radio" id = "startThings" name = "startThings" value = "2">
  <label for = "startThings">2</label>
  <input type = "radio" id = "startThings" name = "startThings" value = "3">
  <label for = "startThings">3-Much more than usual</label><br>
		<label for="lackEnergy">Do you lack energy?</label><br>
  <input type = "radio" id = "lackEnergy" name = "lackEnergy" value = "0">
  <label for = "lackEnergy">0-Less Than Usual </label>
  <input type = "radio" id = "lackEnergy" name = "lackEnergy" value = "1">
  <label for = "lackEnergy">1-Same as Usual</label>
  <input type = "radio" id = "lackEnergy" name = "lackEnergy" value = "2">
  <label for = "lackEnergy">2</label>
  <input type = "radio" id = "lackEnergy" name = "lackEnergy" value = "3">
  <label for = "lackEnergy">3-Much more than usual</label><br>
		<label for="strength">Do you have less strength in your muscles?</label><br>
  <input type = "radio" id = "strength" name = "strength" value = "0">
  <label for = "strength">0-Better Than Usual </label>
  <input type = "radio" id = "strength" name = "strength" value = "1">
  <label for = "strength">1-Same as Usual</label>
  <input type = "radio" id = "strength" name = "strengthy" value = "2">
  <label for = "strength">2</label>
  <input type = "radio" id = "strength" name = "strength" value = "3">
  <label for = "strength">3-Much weaker than usual</label><br> 
		<label for="weak">Do you feel weak?</label><br>
  <input type = "radio" id = "weak" name = "weak" value = "0">
  <label for = "weak">0-Less Than Usual </label>
  <input type = "radio" id = "weak" name = "weak" value = "1">
  <label for = "weak">1-Same as Usual</label>
  <input type = "radio" id = "weak" name = "weak" value = "2">
  <label for = "weak">2</label>
  <input type = "radio" id = "weak" name = "weak" value = "3">
  <label for = "weak">3-Much more than usual</label><br>
		<label for="concentrate">Do you have difficulties concentrating?</label><br>
  <input type = "radio" id = "concentrate" name = "concentrate" value = "0">
  <label for = "concentrate">0-Less Than Usual </label>
  <input type = "radio" id = "concentrate" name = "concentrate" value = "1">
  <label for = "concentrate">1-Same as Usual</label>
  <input type = "radio" id = "concentrate" name = "concentrate" value = "2">
  <label for = "concentrate">2</label>
  <input type = "radio" id = "concentratey" name = "concentrate" value = "3">
  <label for = "concentrate">3-Much more than usual</label><br>
		<label for="tongueSlip">Do you make slips of the tongue when speaking?</label><br>
  <input type = "radio" id = "tongueSlip" name = "tongueSlip" value = "0">
  <label for = "tongueSlip">0-Less Than Usual </label>
  <input type = "radio" id = "tongueSlip" name = "tongueSlip" value = "1">
  <label for = "tongueSlip">1-Same as Usual</label>
  <input type = "radio" id = "tongueSlip" name = "tongueSlip" value = "2">
  <label for = "tongueSlip">2</label>
  <input type = "radio" id = "tongueSlip" name = "tongueSlip" value = "3">
  <label for = "tongueSlip">3-Much more than usual</label><br>
		<label for="rightWord">Do you find it more difficult to find the right word?</label><br>
  <input type = "radio" id = "rightWord" name = "rightWord" value = "0">
  <label for = "rightWord">0-Less Than Usual </label>
  <input type = "radio" id = "rightWord" name = "rightWord" value = "1">
  <label for = "rightWord">1-Same as Usual</label>
  <input type = "radio" id = "rightWord" name = "rightWord" value = "2">
  <label for = "rightWord">2</label>
  <input type = "radio" id = "rightWord" name = "rightWord" value = "3">
  <label for = "rightWord">3-Much more than usual</label><br>
		<label for="memory">How is your memory?</label><br>
  <input type = "radio" id = "memory" name = "memory" value = "0">
  <label for = "memory">0-Better Than Usual </label>
  <input type = "radio" id = "memory" name = "memory" value = "1">
  <label for = "memory">1-Same as Usual</label>
  <input type = "radio" id = "memory" name = "memory" value = "2">
  <label for = "memory">2</label>
  <input type = "radio" id = "memory" name = "memory" value = "3">
  <label for = "memory">3-Much worse than usual</label><br>
		</p>
	        <button type = "submit" id = "submit">Submit</button>
	
		
		 
	</form>
	
	
</div>	
<div class="page" id="four">
	</p id = "results">
		hello
	</p>

</div>
	
  
 </body>


<script>
  const scriptURL = 'https://script.google.com/macros/s/AKfycbwTyhITsooZVhWcQbtJ5lwWLw6CW1uwuNouV5Pw4SkZQKPdXGHj/exec'
  const form = document.forms['chalder']
  
  
  
  form.addEventListener('submit', e => {
    e.preventDefault()
    fetch(scriptURL, { method: 'POST', body: new FormData(form)})
      .then(response => console.log('yay', response))
      .catch(error => console.error('Error!', error.message))
  })

  var numTests = 3; 	
  var numTimes = 0;
  var times = new Array();
  var avgTime = 0;	
  var box = document.getElementById("box");
  
  document.getElementById("submit").onclick = function() {
    location.assign("#four");
 }
 function myFunction() {
    numTimes = 0;
    times = new Array();
    avgTime = 0; 
    location.assign("#two");
    makeBox(); 
 }	
  
  
  function setBox() {
     var yCoord = (Math.random() * (window.innerHeight - 75));
     var xCoord = (Math.random() * (window.innerWidth - 75));					
     box.style.top = yCoord + "px";
     box.style.left = xCoord + "px";			
     box.style.display="block";
     createdTime=Date.now();
  } 
		
		
  var clickedTime; 
  var createdTime;
  var reactionTime; 
		
  function makeBox() {
     var time=Math.random();
     time=time*3000;		
     setTimeout(setBox, time); 		
  }
	
  function clickCircle() {
     numTimes++;
     clickedTime=Date.now();			
     reactionTime=(clickedTime-createdTime)/1000;
     times.push(reactionTime);
     avgTime = avgTime + reactionTime;   
     box.style.display="none";			
     
  }
			
  box.onclick=function() {
     if (numTimes == (numTests - 1)) {
	 clickCircle();
	 location.assign("#three");
	 avgTime = avgTime / numTests;
	 alert(avgTime);
	 document.getElementById("test").value = avgTime;
     } else {
        clickCircle();
	makeBox();
     }
  }

  
	
	  
</script>

