
	<style>	
.body {
     margin: 0em;
}

.page {
    width: 100vw;
    height: 100vh;
    position: fixed;
    top: 0;
    left: -100vw;
    overflow-y: auto;
    z-index: 0;
    background-color: hsl(0,0%,100%);
}

  .page:target {
    left: 0vw;
    z-index: 1;
}
#box {
				height: 75px;
  width: 75px;
  background-color: #FFA500;
  border-radius: 50%;
  display: inline-block;blue;
				display: none;
				position: relative; 
		}
</style>

<body>
  
<form name="chalder">
  <input name="name" type="text" placeholder="Full Name"><br>
  <label for="sleep">How many hours of sleep have you gotten in the past 24 hours?</label><br>
  <input type="text" id="sleep" name="sleep"><br>
  <label for="sleep2">On average, how many hours of sleep do you get every night?</label><br>
  <input type = "text" id = "sleep2" name = "avgSleep"><br>
  <label for = "refreshed">Do you currently feel refreshed and awake?</label><br>
  <input type = "radio" id = "refreshed" name = "feeling" value = "Yes">
  <label for = "refreshed">Yes</label>
  <input type = "radio" id = "refreshed" name = "feeling" value = "No">
  <label for = "refreshed">No</label><br>
  <label for="caff">How much caffeine have you had in the past 8 hours? A regular cup of coffee has about 95 mg.</label><br>
  <input type="text" id="caff" name="caff"><br>
  <label for="medication">Are you currently taking any medications or drugs which could impact the results of this sleep survey? </label><br>
  <select id="medication" name="med">
    <option value="Yes, improve">yes, it could improve results</option>
    <option value="Yes, worsen">yes, it could worsen results</option>
    <option value="N/A, or won't impact results">N/A or it will not impact results</option>
  </select><br> 
	 
 
  <button type = "submit" id = "submit">Submit</button>
<button type = "button" id = "beginTest" onclick= "myFunction()" disabled>Begin Test</button>
 
</form>


<div class="page" id="two">
	<div id = "box"> </div>
</div>
<div class="page" id="three">
	
		 Your average time was:
		<form name = "res">
		 <label for="test">send data?</label><br>
                 <input type = "text" id="test" name="test"><br>
	</form>
	
	
</div>	
  
 </body>


<script>
  const scriptURL = 'https://script.google.com/macros/s/AKfycbwTyhITsooZVhWcQbtJ5lwWLw6CW1uwuNouV5Pw4SkZQKPdXGHj/exec'
  const form = document.forms['chalder']
  
  
  
  form.addEventListener('submit', e => {
    e.preventDefault()
    fetch(scriptURL, { method: 'POST', body: new FormData(form)})
      .then(response => console.log('Success!', response))
      .catch(error => console.error('Error!', error.message))
  })
  var numTests = 4; 	
  var numTimes = 0;
  var times = new Array();
  var avgTime = 0;	
  var box = document.getElementById("box");
  
  document.getElementById("submit").onclick = function() {
    document.getElementById("beginTest").disabled = false; 
  }
 function myFunction() {
    numTimes = 0;
    times = new Array();
    avgTime = 0; 
    location.assign("#two");
 }	
  
  
  function setBox() {
     var yCoord = (Math.random() * (screen.height - 150));
     var xCoord = (Math.random() * (screen.width - 150));					
     box.style.top = yCoord + "px";
     box.style.left = xCoord + "px";			
     box.style.display="block";
     createdTime=Date.now();
  } 
		
		
  var clickedTime; 
  var createdTime;
  var reactionTime; 
		
  function makeBox() {
     var time=Math.random();
     time=time*3000;		
     setTimeout(setBox, time); 		
  }
	
  function clickCircle() {
     numTimes++;
     clickedTime=Date.now();			
     reactionTime=(clickedTime-createdTime)/1000;
     times.push(reactionTime);
     avgTime = avgTime + reactionTime;   
     box.style.display="none";			
     
  }
			
  box.onclick=function() {
     if (numTimes == (numTests - 1)) {
	 clickCircle();
	 location.assign("#three");
	 alert(avgTime / numTests);
	 document.getElementById("test").value = avgTime;
     } else {
        clickCircle();
	makeBox();
     }
  }
  makeBox();
  
	
	  
</script>

